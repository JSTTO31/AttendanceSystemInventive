import{m as h,a as w,u as S,b as m,V as v}from"./VOverlay-29adec8e.js";import{f as b}from"./forwardRefs-5fd4de1b.js";import{p as D,an as O,a as R,j as x,R as j,d as f,r as k,au as A,s as I,av as T,w as U,c as p,l as V}from"./index-646f7b1e.js";import{f as $}from"./VCard-76959000.js";import{u as F}from"./tag-f2175fc0.js";const N=D({id:String,...O(h({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:w}}),["absolute"])},"VMenu"),H=R()({name:"VMenu",props:N(),emits:{"update:modelValue":a=>!0},setup(a,g){let{slots:s}=g;const o=x(a,"modelValue"),{scopeId:P}=S(),y=j(),u=f(()=>a.id||`v-menu-${y}`),i=k(),e=A(m,null),t=I(0);T(m,{register(){++t.value},unregister(){--t.value},closeParents(){setTimeout(()=>{t.value||(o.value=!1,e==null||e.closeParents())},40)}}),U(o,l=>{l?e==null||e.register():e==null||e.unregister()});function M(){e==null||e.closeParents()}const C=f(()=>V({"aria-haspopup":"menu","aria-expanded":String(o.value),"aria-owns":u.value},a.activatorProps));return F(()=>{const[l]=v.filterProps(a);return p(v,V({ref:i,class:["v-menu",a.class],style:a.style},l,{modelValue:o.value,"onUpdate:modelValue":r=>o.value=r,absolute:!0,activatorProps:C.value,"onClick:outside":M},P),{activator:s.activator,default:function(){for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return p($,{root:"VMenu"},{default:()=>{var d;return[(d=s.default)==null?void 0:d.call(s,...c)]}})}})}),b({id:u,Î¨openChildren:t},i)}});export{H as V};
