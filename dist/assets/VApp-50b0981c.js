import{m as Z,u as _}from"./tag-044c96b1.js";import{p as C,au as T,R as ue,ax as D,av as W,s as X,aU as le,aV as ie,d as v,i as re,r as ce,a1 as R,f as $,o as ve,aW as ye,a as q,c as k,m as pe,b as me,u as de}from"./index-65b57148.js";import{u as fe}from"./VProgressCircular-82f592c4.js";const z=Symbol.for("vuetify:layout"),F=Symbol.for("vuetify:layout-item"),K=1e3,Y=C({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ve=C({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function we(){const e=T(z);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Re(e){const l=T(z);if(!l)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${ue()}`,u=D("useLayoutItem");W(F,{id:n});const a=X(!1);le(()=>a.value=!0),ie(()=>a.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:r}=l.register(u,{...e,active:v(()=>a.value?!1:e.active.value),id:n});return re(()=>l.unregister(n)),{layoutItemStyles:i,layoutRect:l.layoutRect,layoutItemScrimStyles:r}}const ge=(e,l,n,u)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const r of e){const p=l.get(r),m=n.get(r),I=u.get(r);if(!p||!m||!I)continue;const g={...a,[p.value]:parseInt(a[p.value],10)+(I.value?parseInt(m.value,10):0)};i.push({id:r,layer:g}),a=g}return i};function G(e){const l=T(z,null),n=v(()=>l?l.rootZIndex.value-100:K),u=ce([]),a=R(new Map),i=R(new Map),r=R(new Map),p=R(new Map),m=R(new Map),{resizeRef:I,contentRect:g}=fe(),J=v(()=>{const o=new Map,y=e.overlaps??[];for(const t of y.filter(c=>c.includes(":"))){const[c,s]=t.split(":");if(!u.value.includes(c)||!u.value.includes(s))continue;const f=a.get(c),h=a.get(s),S=i.get(c),V=i.get(s);!f||!h||!S||!V||(o.set(s,{position:f.value,amount:parseInt(S.value,10)}),o.set(c,{position:h.value,amount:-parseInt(V.value,10)}))}return o}),b=v(()=>{const o=[...new Set([...r.values()].map(t=>t.value))].sort((t,c)=>t-c),y=[];for(const t of o){const c=u.value.filter(s=>{var f;return((f=r.get(s))==null?void 0:f.value)===t});y.push(...c)}return ge(y,a,i,p)}),E=v(()=>!Array.from(m.values()).some(o=>o.value)),x=v(()=>b.value[b.value.length-1].layer),Q=v(()=>({"--v-layout-left":$(x.value.left),"--v-layout-right":$(x.value.right),"--v-layout-top":$(x.value.top),"--v-layout-bottom":$(x.value.bottom),...E.value?void 0:{transition:"none"}})),L=v(()=>b.value.slice(1).map((o,y)=>{let{id:t}=o;const{layer:c}=b.value[y],s=i.get(t),f=a.get(t);return{id:t,...c,size:Number(s.value),position:f.value}})),H=o=>L.value.find(y=>y.id===o),A=D("createLayout"),N=X(!1);ve(()=>{N.value=!0}),W(z,{register:(o,y)=>{let{id:t,order:c,position:s,layoutSize:f,elementSize:h,active:S,disableTransitions:V,absolute:oe}=y;r.set(t,c),a.set(t,s),i.set(t,f),p.set(t,S),V&&m.set(t,V);const U=ye(F,A==null?void 0:A.vnode).indexOf(o);U>-1?u.value.splice(U,0,t):u.value.push(t);const j=v(()=>L.value.findIndex(w=>w.id===t)),P=v(()=>n.value+b.value.length*2-j.value*2),ae=v(()=>{const w=s.value==="left"||s.value==="right",M=s.value==="right",se=s.value==="bottom",B={[s.value]:0,zIndex:P.value,transform:`translate${w?"X":"Y"}(${(S.value?0:-110)*(M||se?-1:1)}%)`,position:oe.value||n.value!==K?"absolute":"fixed",...E.value?void 0:{transition:"none"}};if(!N.value)return B;const d=L.value[j.value];if(!d)throw new Error(`[Vuetify] Could not find layout item "${t}"`);const O=J.value.get(t);return O&&(d[O.position]+=O.amount),{...B,height:w?`calc(100% - ${d.top}px - ${d.bottom}px)`:h.value?`${h.value}px`:void 0,left:M?void 0:`${d.left}px`,right:M?`${d.right}px`:void 0,top:s.value!=="bottom"?`${d.top}px`:void 0,bottom:s.value!=="top"?`${d.bottom}px`:void 0,width:w?h.value?`${h.value}px`:void 0:`calc(100% - ${d.left}px - ${d.right}px)`}}),ne=v(()=>({zIndex:P.value-1}));return{layoutItemStyles:ae,layoutItemScrimStyles:ne,zIndex:P}},unregister:o=>{r.delete(o),a.delete(o),i.delete(o),p.delete(o),m.delete(o),u.value=u.value.filter(y=>y!==o)},mainRect:x,mainStyles:Q,getLayoutItem:H,items:L,layoutRect:g,rootZIndex:n});const ee=v(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),te=v(()=>({zIndex:n.value,position:l?"relative":void 0,overflow:l?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:te,getLayoutItem:H,items:L,layoutRect:g,layoutRef:I}}const he=C({...Z(),...Y()},"VLayout"),$e=q()({name:"VLayout",props:he(),setup(e,l){let{slots:n}=l;const{layoutClasses:u,layoutStyles:a,getLayoutItem:i,items:r,layoutRef:p}=G(e);return _(()=>{var m;return k("div",{ref:p,class:[u.value,e.class],style:[a.value,e.style]},[(m=n.default)==null?void 0:m.call(n)])}),{getLayoutItem:i,items:r}}});const Ie=C({...Z(),...Y({fullHeight:!0}),...pe()},"VApp"),ze=q()({name:"VApp",props:Ie(),setup(e,l){let{slots:n}=l;const u=me(e),{layoutClasses:a,layoutStyles:i,getLayoutItem:r,items:p,layoutRef:m}=G(e),{rtlClasses:I}=de();return _(()=>{var g;return k("div",{ref:m,class:["v-application",u.themeClasses.value,a.value,I.value,e.class],style:[i.value,e.style]},[k("div",{class:"v-application__wrap"},[(g=n.default)==null?void 0:g.call(n)])])}),{getLayoutItem:r,items:p,theme:u}}});export{$e as V,we as a,ze as b,Ve as m,Re as u};
