import{d as E,m as F,Q as R,s as x,a1 as T,j as f,a5 as j,o as i,p as _,w as s,a as t,b as a,e as d,t as o,c as v,f as b,u as w,F as V}from"./index-1b2f18c0.js";import{C as I}from"./ChartBar-89066388.js";import{V as N}from"./VContainer-45cc6a4e.js";import{V as k,a as M}from"./VRow-bf742394.js";import{V as r,a as P,b as H}from"./VCard-81742aa1.js";import{V as y}from"./VProgressCircular-a7f3ca87.js";import{V as p}from"./VSpacer-58a18ea2.js";import{V as C}from"./VBtn-5eaa95be.js";import{V as L}from"./VChip-df0715a8.js";import"./index-100a9889.js";import"./index-45aa9782.js";const Q={class:"d-flex"},U=a("div",{class:"px-5 text-center text-md-left"},[a("h4",{class:"font-weight-medium text-md-h5 mt-2 mt-md-0"},"Remaining"),a("h4",{class:"font-weight-light d-none d-md-block"},"All students remaining")],-1),q=a("span",{class:"mx-2"},null,-1),G=a("div",{class:"px-5"},[a("h4",{class:"font-weight-medium text-md-h5 mt-2 mt-md-0"},"Attendance"),a("h4",{class:"font-weight-light d-none d-md-block"},"4 students out of 10")],-1),J={class:"h-100 pt-5"},K={class:"mb-2 d-flex align-center"},O=a("h4",{class:"font-weight-bold"},"Upcoming Events",-1),W={class:"text-subtitle-1 font-weight-medium"},X={class:"text-caption"},Y={class:"d-flex mb-2 align-center"},Z=a("h4",{class:"text-md-subtitle-1 font-weight-medium"},"All students",-1),ee={class:"d-flex flex-column justify-center ml-4"},te={class:"text-capitalize font-weight-medium"},ae={class:"text-capitalize font-weight-medium text-grey-darken-1"},pe=E({__name:"Home",setup(se){const{mobile:S}=F(),{current:m}=R(),{students:u,number_of_students:z,remaining:$}=x(T()),h=f(()=>Math.abs(100-z.value/$.value*100).toFixed(0)),B=f(()=>({labels:u.value.map(l=>l.first_name.length>10?l.first_name.substring(0,10)+"...":l.first_name),datasets:[{data:u.value.map(l=>{var n;return((n=l.work_time_total)==null?void 0:n.toFixed(0))||0}),backgroundColor:[m.value.colors.primary,m.value.colors.primary,m.value.colors.primary],borderRadius:5,barThickness:S.value?35:65}]})),c=f(()=>l=>l.attendance?l.attendance.is_absent?"absent":l.attendance.late_time!=null?"late":l.attendance.is_event?"event":"present":"pending"),g=j(),{events:A}=x(g);return g.getEvents(),(l,n)=>(i(),_(N,{class:"px-2 px-md-8 py-5"},{default:s(()=>[t(M,{"align-content":"stretch"},{default:s(()=>[t(k,{cols:"12",md:"8",class:"d-flex flex-column"},{default:s(()=>[a("div",Q,[t(r,{flat:"",class:"border d-flex align-center flex-column flex-md-row rounded-lg pa-5 w-100"},{default:s(()=>[t(y,{"model-value":h.value,size:"85",width:"5",class:"text-h5",color:"primary"},{default:s(()=>[d(o(h.value)+"%",1)]),_:1},8,["model-value"]),U]),_:1}),q,t(r,{flat:"",class:"border d-flex align-center rounded-lg flex-column flex-md-row pa-5 w-100"},{default:s(()=>[t(y,{"model-value":"90",size:"85",width:"5",color:"primary",class:"text-h5"},{default:s(()=>[d("90%")]),_:1}),G]),_:1})]),a("div",J,[t(r,{flat:"",class:"border h-100 rounded-lg pa-5 py-8 d-flex justify-center flex-column align-center"},{default:s(()=>[t(I,{"chart-data":B.value},null,8,["chart-data"])]),_:1})])]),_:1}),t(k,{cols:"12",md:"4",class:"h-100 d-flex flex-column"},{default:s(()=>[t(r,{flat:"",class:"pa-5 rounded-lg border h-25"},{default:s(()=>[a("div",K,[O,t(p),t(C,{onClick:n[0]||(n[0]=e=>l.$router.push({name:"ScheduleIndex"})),size:"small","append-icon":"mdi-chevron-right",variant:"text",class:"text-capitalize"},{default:s(()=>[d("More Events")]),_:1})]),(i(!0),v(V,null,b(w(A),e=>(i(),_(r,{flat:"",onClick:D=>l.$router.push({name:"ScheduleShow",params:{event_id:e.id}}),style:{"border-color":"#615dec !important"},class:"pa-4 bg-grey-lighten-5 border-s-xl rounded-lg mb-2",key:e.id},{default:s(()=>[a("h5",W,o(e.title),1),a("h6",X,o(new Date(e.date_time.event_date_start).toDateString())+" | "+o(e.date_time.event_time_start.replace(":00",""))+o(e.date_time.event_time_start==e.date_time.event_time_end?"":" - "+e.date_time.event_time_end.replace(":00","")),1)]),_:2},1032,["onClick"]))),128))]),_:1}),t(r,{flat:"",class:"pa-5 rounded-lg border mt-5 h-75"},{default:s(()=>[a("div",Y,[Z,t(p),t(C,{size:"small",onClick:n[1]||(n[1]=e=>l.$router.push({name:"IndexStudent"})),flat:"",color:"transparent","append-icon":"mdi-chevron-right",class:"text-capitalize"},{default:s(()=>[d("See more students")]),_:1})]),(i(!0),v(V,null,b(w(u),e=>(i(),_(r,{onClick:D=>l.$router.push({name:"ShowStudent",params:{student_id:e.id}}),flat:"",class:"border-b align-center d-flex py-2",key:e.id,student:e},{default:s(()=>[t(P,{size:"55"},{default:s(()=>[t(H,{src:e.image},null,8,["src"])]),_:2},1024),a("div",ee,[a("h5",te,o(e.first_name)+" "+o(e.last_name),1),a("h6",ae,o(e.position),1)]),t(p),t(L,{size:"small",class:"px-2 text-capitalize",color:c.value(e)=="absent"?"error":c.value(e)=="late"?"warning":c.value(e)=="present"?"success":"#615dec"},{default:s(()=>[d(o(c.value(e)),1)]),_:2},1032,["color"])]),_:2},1032,["onClick","student"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}))}});export{pe as default};
